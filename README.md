<div class="Box-sc-g0xbh4-0 bJMeLZ js-snippet-clipboard-copy-unpositioned" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><div align="center" dir="auto">
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">⚡ LitGPT</font></font></h1><a id="user-content--litgpt" class="anchor" aria-label="永久链接：⚡ LitGPT" href="#-litgpt"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 多种高性能 LLM 实现，包含预训练、微调和大规模部署的方案。</font></font></strong></p>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ 从头实现✅ 没有抽象✅ 适合初学者   </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
✅ 闪光灯注意✅ fp4/8/16/32✅ LoRA，QLoRA，适配器</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
✅ FSDP ✅ 1-1000+ GPU/TPU ✅ 20+ LLM            </font></font><font></font>
</pre>
<hr>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/481898f700a290d7365730ff4c26ef6374150ac8dd62b8bebfad2ed193bd89c8/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f7079746f7263682d6c696768746e696e67"><img src="https://camo.githubusercontent.com/481898f700a290d7365730ff4c26ef6374150ac8dd62b8bebfad2ed193bd89c8/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f7079746f7263682d6c696768746e696e67" alt="PyPI-Python 版本" data-canonical-src="https://img.shields.io/pypi/pyversions/pytorch-lightning" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/lightning-AI/lit-stablelm/actions/workflows/cpu-tests.yml/badge.svg"><img src="https://github.com/lightning-AI/lit-stablelm/actions/workflows/cpu-tests.yml/badge.svg" alt="CPU 测试" style="max-width: 100%;"></a> <a href="https://github.com/Lightning-AI/lit-stablelm/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/db9dfde8049c5d66ba62fde707d2cfb30e26f9f26ff274c3442c0aec1ec410a4/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d417061636865253230322e302d626c75652e737667" alt="执照" data-canonical-src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" style="max-width: 100%;"></a> <a href="https://discord.gg/VptPCZkGNa" rel="nofollow"><img src="https://camo.githubusercontent.com/a9cb28b3197c6b81b5a5fbb9094594ee1aee5fda3d6dd46b5e2ba3d4275206ca/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f31303737393036393539303639363236343339" alt="不和谐" data-canonical-src="https://img.shields.io/discord/1077906959069626439" style="max-width: 100%;"></a></p>
<p align="center" dir="auto">
  <a href="https://lightning.ai/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lightning AI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> •
  </font></font><a href="#quick-start"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快速入门</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•
  </font></font><a href="#choose-from-20-llms"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•
  </font></font><a href="#finetune-an-llm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微调/预训练</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• 
  </font></font><a href="#deploy-an-llm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部署</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•    
    </font></font><a href="#evaluate-an-llm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">评估</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•
  </font></font><a href="#state-of-the-art-features"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•
  </font></font><a href="#training-recipes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配方 (YAML)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> •
    </font></font><a href="#tutorials"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">教程</font></font></a>
</p>
<p dir="auto">&nbsp;</p>
<a href="https://lightning.ai/lightning-ai/studios/litgpt-quick-start" rel="nofollow">
  <img src="https://camo.githubusercontent.com/8ec426a867662eba4207b3ac73f5e0d8ae815343376e88a4a4889ad32151592f/68747470733a2f2f706c2d626f6c74732d646f632d696d616765732e73332e75732d656173742d322e616d617a6f6e6177732e636f6d2f6170702d322f6765742d737461727465642d62616467652e737667" height="36px" alt="开始使用" data-canonical-src="https://pl-bolts-doc-images.s3.us-east-2.amazonaws.com/app-2/get-started-badge.svg" style="max-width: 100%;">
</a>
<p dir="auto">&nbsp;</p>
</div>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用、微调、预训练、部署 LLM 闪电般快速⚡⚡</font></font></h1><a id="user-content-use-finetune-pretrain-deploy-llms-lightning-fast-" class="anchor" aria-label="永久链接：使用、微调、预训练、部署 LLM 闪电般快速⚡⚡" href="#use-finetune-pretrain-deploy-llms-lightning-fast-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个 LLM 都是从头开始实现的，</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有抽象</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全控制</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这使得它们在企业规模上速度极快、精简且性能卓越。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业级就绪 -</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Apache 2.0 可供无限企业使用。✅</font><strong><font style="vertical-align: inherit;">开发人员友好 -</font></strong><font style="vertical-align: inherit;">无需抽象层和单一文件实现即可轻松调试。✅</font><font style="vertical-align: inherit;">
优化</font><strong><font style="vertical-align: inherit;">性能 -</font></strong></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">旨在最大限度提高性能
、</font><font style="vertical-align: inherit;">降低成本和加快训练速度的模型。✅</font><font style="vertical-align: inherit;">
经过</font><strong><font style="vertical-align: inherit;">验证的配方 -</font></strong><font style="vertical-align: inherit;">经过企业级测试的高度优化的训练/微调配方。</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font></p>
<p dir="auto">&nbsp;</p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快速开始</font></font></h1><a id="user-content-quick-start" class="anchor" aria-label="永久链接：快速入门" href="#quick-start"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装 LitGPT</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>pip install 'litgpt[all]'
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="pip install 'litgpt[all]'" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加载并使用</font></font><a href="#choose-from-20-llms"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 多个 LLM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的任意一个：</font></font></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">from</span> <span class="pl-s1">litgpt</span> <span class="pl-k">import</span> <span class="pl-v">LLM</span>

<span class="pl-s1">llm</span> <span class="pl-c1">=</span> <span class="pl-v">LLM</span>.<span class="pl-en">load</span>(<span class="pl-s">"microsoft/phi-2"</span>)
<span class="pl-s1">text</span> <span class="pl-c1">=</span> <span class="pl-s1">llm</span>.<span class="pl-en">generate</span>(<span class="pl-s">"Correct the spelling: Every summer, the familly enjoys a trip to the mountains."</span>)
<span class="pl-en">print</span>(<span class="pl-s1">text</span>)
<span class="pl-c"># Corrected Sentence: Every summer, the family enjoys a vacation to the mountains.       </span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="from litgpt import LLM

llm = LLM.load(&quot;microsoft/phi-2&quot;)
text = llm.generate(&quot;Correct the spelling: Every summer, the familly enjoys a trip to the mountains.&quot;)
print(text)
# Corrected Sentence: Every summer, the family enjoys a vacation to the mountains.       " tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto">&nbsp;</p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ 针对快速推理进行了优化</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
✅ 量化</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
✅ 在低内存 GPU 上运行</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
✅ 没有内部抽象层</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
✅ 针对生产规模进行了优化</font></font></p>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级安装选项</font></font></summary>
<p dir="auto">Install from source:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>git clone https://github.com/Lightning-AI/litgpt
<span class="pl-c1">cd</span> litgpt
pip install -e <span class="pl-s"><span class="pl-pds">'</span>.[all]<span class="pl-pds">'</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="git clone https://github.com/Lightning-AI/litgpt
cd litgpt
pip install -e '.[all]'" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<p dir="auto"><a href="/Lightning-AI/litgpt/blob/main/tutorials/python-api.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">探索完整的 Python API 文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 多个法学硕士课程供您选择</font></font></h1><a id="user-content-choose-from-20-llms" class="anchor" aria-label="永久链接：20 多个法学硕士项目供您选择" href="#choose-from-20-llms"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个模型都是从头编写的，以最大限度地提高性能并消除抽象层：</font></font></p>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型大小</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作者</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼 3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8B、70B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元人工智能</font></font></td>
<td><a href="https://github.com/meta-llama/llama3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元人工智能 2024</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼 2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7B、13B、70B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元人工智能</font></font></td>
<td><a href="https://arxiv.org/abs/2307.09288" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Touvron 等人 2023</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代号骆驼</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7B、13B、34B、70B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元人工智能</font></font></td>
<td><a href="https://arxiv.org/abs/2308.12950" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rozière 等人 2023</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mixtral 教育部</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8x7B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米斯特拉尔</font></font></td>
<td><a href="https://mistral.ai/news/mixtral-of-experts/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米斯特拉尔人工智能 2023</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米斯特拉尔</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米斯特拉尔</font></font></td>
<td><a href="https://mistral.ai/news/announcing-mistral-7b/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米斯特拉尔人工智能 2023</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码Gemma</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谷歌</font></font></td>
<td><a href="https://ai.google.dev/gemma/docs/codegemma" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google 团队、Google Deepmind</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></td>
</tr>
</tbody>
</table>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看 20+ 法学硕士的完整列表</font></font></summary>
<p dir="auto">&nbsp;</p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">All models</h4><a id="user-content-all-models" class="anchor" aria-label="Permalink: All models" href="#all-models"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<table>
<thead>
<tr>
<th>Model</th>
<th>Model size</th>
<th>Author</th>
<th>Reference</th>
</tr>
</thead>
<tbody>
<tr>
<td>CodeGemma</td>
<td>7B</td>
<td>Google</td>
<td><a href="https://ai.google.dev/gemma/docs/codegemma" rel="nofollow">Google Team, Google Deepmind</a></td>
</tr>
<tr>
<td>Code Llama</td>
<td>7B, 13B, 34B, 70B</td>
<td>Meta AI</td>
<td><a href="https://arxiv.org/abs/2308.12950" rel="nofollow">Rozière et al. 2023</a></td>
</tr>
<tr>
<td>Danube2</td>
<td>1.8B</td>
<td>H2O.ai</td>
<td><a href="https://h2o.ai/platform/danube-1-8b/" rel="nofollow">H2O.ai</a></td>
</tr>
<tr>
<td>Dolly</td>
<td>3B, 7B, 12B</td>
<td>Databricks</td>
<td><a href="https://www.databricks.com/blog/2023/04/12/dolly-first-open-commercially-viable-instruction-tuned-llm" rel="nofollow">Conover et al. 2023</a></td>
</tr>
<tr>
<td>Falcon</td>
<td>7B, 40B, 180B</td>
<td>TII UAE</td>
<td><a href="https://falconllm.tii.ae" rel="nofollow">TII 2023</a></td>
</tr>
<tr>
<td>FreeWilly2 (Stable Beluga 2)</td>
<td>70B</td>
<td>Stability AI</td>
<td><a href="https://stability.ai/blog/stable-beluga-large-instruction-fine-tuned-models" rel="nofollow">Stability AI 2023</a></td>
</tr>
<tr>
<td>Function Calling Llama 2</td>
<td>7B</td>
<td>Trelis</td>
<td><a href="https://huggingface.co/Trelis/Llama-2-7b-chat-hf-function-calling-v2" rel="nofollow">Trelis et al. 2023</a></td>
</tr>
<tr>
<td>Gemma</td>
<td>2B, 7B</td>
<td>Google</td>
<td><a href="https://storage.googleapis.com/deepmind-media/gemma/gemma-report.pdf" rel="nofollow">Google Team, Google Deepmind</a></td>
</tr>
<tr>
<td>Llama 2</td>
<td>7B, 13B, 70B</td>
<td>Meta AI</td>
<td><a href="https://arxiv.org/abs/2307.09288" rel="nofollow">Touvron et al. 2023</a></td>
</tr>
<tr>
<td>Llama 3</td>
<td>8B, 70B</td>
<td>Meta AI</td>
<td><a href="https://github.com/meta-llama/llama3">Meta AI 2024</a></td>
</tr>
<tr>
<td>LongChat</td>
<td>7B, 13B</td>
<td>LMSYS</td>
<td><a href="https://lmsys.org/blog/2023-06-29-longchat/" rel="nofollow">LongChat Team 2023</a></td>
</tr>
<tr>
<td>MicroLlama</td>
<td>300M</td>
<td>Ken Wang</td>
<td><a href="https://github.com/keeeeenw/MicroLlama">MicroLlama repo</a></td>
</tr>
<tr>
<td>Mixtral MoE</td>
<td>8x7B</td>
<td>Mistral AI</td>
<td><a href="https://mistral.ai/news/mixtral-of-experts/" rel="nofollow">Mistral AI 2023</a></td>
</tr>
<tr>
<td>Mistral</td>
<td>7B</td>
<td>Mistral AI</td>
<td><a href="https://mistral.ai/news/announcing-mistral-7b/" rel="nofollow">Mistral AI 2023</a></td>
</tr>
<tr>
<td>Nous-Hermes</td>
<td>7B, 13B, 70B</td>
<td>NousResearch</td>
<td><a href="https://huggingface.co/NousResearch" rel="nofollow">Org page</a></td>
</tr>
<tr>
<td>OpenLLaMA</td>
<td>3B, 7B, 13B</td>
<td>OpenLM Research</td>
<td><a href="https://github.com/openlm-research/open_llama">Geng &amp; Liu 2023</a></td>
</tr>
<tr>
<td>Phi</td>
<td>1.3B, 2.7B</td>
<td>Microsoft Research</td>
<td><a href="https://arxiv.org/abs/2309.05463" rel="nofollow">Li et al. 2023</a></td>
</tr>
<tr>
<td>Platypus</td>
<td>7B, 13B, 70B</td>
<td>Lee et al.</td>
<td><a href="https://arxiv.org/abs/2308.07317" rel="nofollow">Lee, Hunter, and Ruiz 2023</a></td>
</tr>
<tr>
<td>Pythia</td>
<td>{14,31,70,160,410}M, {1,1.4,2.8,6.9,12}B</td>
<td>EleutherAI</td>
<td><a href="https://arxiv.org/abs/2304.01373" rel="nofollow">Biderman et al. 2023</a></td>
</tr>
<tr>
<td>RedPajama-INCITE</td>
<td>3B, 7B</td>
<td>Together</td>
<td><a href="https://together.ai/blog/redpajama-models-v1" rel="nofollow">Together 2023</a></td>
</tr>
<tr>
<td>StableCode</td>
<td>3B</td>
<td>Stability AI</td>
<td><a href="https://stability.ai/blog/stablecode-llm-generative-ai-coding" rel="nofollow">Stability AI 2023</a></td>
</tr>
<tr>
<td>StableLM</td>
<td>3B, 7B</td>
<td>Stability AI</td>
<td><a href="https://github.com/Stability-AI/StableLM">Stability AI 2023</a></td>
</tr>
<tr>
<td>StableLM Zephyr</td>
<td>3B</td>
<td>Stability AI</td>
<td><a href="https://stability.ai/blog/stablecode-llm-generative-ai-coding" rel="nofollow">Stability AI 2023</a></td>
</tr>
<tr>
<td>TinyLlama</td>
<td>1.1B</td>
<td>Zhang et al.</td>
<td><a href="https://github.com/jzhang38/TinyLlama">Zhang et al. 2023</a></td>
</tr>
<tr>
<td>Vicuna</td>
<td>7B, 13B, 33B</td>
<td>LMSYS</td>
<td><a href="https://lmsys.org/blog/2023-03-30-vicuna/" rel="nofollow">Li et al. 2023</a></td>
</tr>
</tbody>
</table>
<p dir="auto"><strong>Tip</strong>: You can list all available models by running the <code>litgpt download list</code> command.</p>
</details>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级工作流程</font></font></h1><a id="user-content-advanced-workflows" class="anchor" aria-label="永久链接：高级工作流程" href="#advanced-workflows"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p align="center" dir="auto">
  <a href="#finetune-an-llm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微调</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• 
  </font></font><a href="#pretrain-an-llm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预训练</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• 
  </font></font><a href="#continue-pretraining-an-llm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持续预训练</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•    
    </font></font><a href="#evaluate-an-llm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">评估</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•
    </font></font><a href="#deploy-an-llm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部署</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•
    </font></font><a href="#test-an-llm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></a>
</p>
<p dir="auto">&nbsp;</p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用命令行界面运行高级工作流程，例如对您自己的数据进行预训练或微调。</font></font></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有工作流程</font></font></h2><a id="user-content-all-workflows" class="anchor" aria-label="永久链接：所有工作流程" href="#all-workflows"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装 LitGPT 后，选择要运行的模型和工作流程（微调、预训练、评估、部署等）：</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> ligpt [action] [model]</span>
litgpt  download  meta-llama/Meta-Llama-3-8B-Instruct
litgpt  chat      meta-llama/Meta-Llama-3-8B-Instruct
litgpt  evaluate  meta-llama/Meta-Llama-3-8B-Instruct
litgpt  finetune  meta-llama/Meta-Llama-3-8B-Instruct
litgpt  pretrain  meta-llama/Meta-Llama-3-8B-Instruct
litgpt  serve     meta-llama/Meta-Llama-3-8B-Instruct</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# ligpt [action] [model]
litgpt  download  meta-llama/Meta-Llama-3-8B-Instruct
litgpt  chat      meta-llama/Meta-Llama-3-8B-Instruct
litgpt  evaluate  meta-llama/Meta-Llama-3-8B-Instruct
litgpt  finetune  meta-llama/Meta-Llama-3-8B-Instruct
litgpt  pretrain  meta-llama/Meta-Llama-3-8B-Instruct
litgpt  serve     meta-llama/Meta-Llama-3-8B-Instruct" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微调法学硕士</font></font></h2><a id="user-content-finetune-an-llm" class="anchor" aria-label="永久链接：微调 LLM" href="#finetune-an-llm"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div align="center" dir="auto">
<a href="https://lightning.ai/lightning-ai/studios/litgpt-finetune" rel="nofollow">
  <img src="https://camo.githubusercontent.com/3b9b6cc9b1d5da3a1442957e3d1a7464d5fe2af1749625eba68ecafaa8b72321/68747470733a2f2f706c2d626f6c74732d646f632d696d616765732e73332e75732d656173742d322e616d617a6f6e6177732e636f6d2f6170702d322f72756e2d6f6e2d73747564696f2e737667" height="36px" alt="在工作室运行" data-canonical-src="https://pl-bolts-doc-images.s3.us-east-2.amazonaws.com/app-2/run-on-studio.svg" style="max-width: 100%;">
</a>
</div>
<p dir="auto">&nbsp;</p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微调是采用预先训练的 AI 模型并在针对特定任务或应用程序的较小的专门数据集上进一步训练它的过程。</font></font></p>
<p dir="auto">&nbsp;</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> 1) Download a pretrained model</span>
litgpt download microsoft/phi-2

<span class="pl-c"><span class="pl-c">#</span> 2) Finetune the model</span>
curl -L https://huggingface.co/datasets/ksaw008/finance_alpaca/resolve/main/finance_alpaca.json -o my_custom_dataset.json

litgpt finetune microsoft/phi-2 \
  --data JSON \
  --data.json_path my_custom_dataset.json \
  --data.val_split_fraction 0.1 \
  --out_dir out/custom-model

<span class="pl-c"><span class="pl-c">#</span> 3) Chat with the model</span>
litgpt chat out/custom-model/final</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# 1) Download a pretrained model
litgpt download microsoft/phi-2

# 2) Finetune the model
curl -L https://huggingface.co/datasets/ksaw008/finance_alpaca/resolve/main/finance_alpaca.json -o my_custom_dataset.json

litgpt finetune microsoft/phi-2 \
  --data JSON \
  --data.json_path my_custom_dataset.json \
  --data.val_split_fraction 0.1 \
  --out_dir out/custom-model

# 3) Chat with the model
litgpt chat out/custom-model/final" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><a href="/Lightning-AI/litgpt/blob/main/tutorials/finetune.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读完整的微调文档</font></font></a></p>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预训练 LLM</font></font></h2><a id="user-content-pretrain-an-llm" class="anchor" aria-label="永久链接：预训练 LLM" href="#pretrain-an-llm"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div align="center" dir="auto">
<a href="https://lightning.ai/lightning-ai/studios/litgpt-pretrain" rel="nofollow">
  <img src="https://camo.githubusercontent.com/3b9b6cc9b1d5da3a1442957e3d1a7464d5fe2af1749625eba68ecafaa8b72321/68747470733a2f2f706c2d626f6c74732d646f632d696d616765732e73332e75732d656173742d322e616d617a6f6e6177732e636f6d2f6170702d322f72756e2d6f6e2d73747564696f2e737667" height="36px" alt="在工作室运行" data-canonical-src="https://pl-bolts-doc-images.s3.us-east-2.amazonaws.com/app-2/run-on-studio.svg" style="max-width: 100%;">
</a>
</div>
<p dir="auto">&nbsp;</p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预训练是通过向 AI 模型展示大量数据来对其进行训练的过程，然后再针对特定任务进行微调。</font></font></p>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示代码：</font></font></summary>
<p dir="auto">&nbsp;</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>mkdir -p custom_texts
curl https://www.gutenberg.org/cache/epub/24440/pg24440.txt --output custom_texts/book1.txt
curl https://www.gutenberg.org/cache/epub/26393/pg26393.txt --output custom_texts/book2.txt

<span class="pl-c"><span class="pl-c">#</span> 1) Download a tokenizer</span>
litgpt download EleutherAI/pythia-160m \
  --tokenizer_only True

<span class="pl-c"><span class="pl-c">#</span> 2) Pretrain the model</span>
litgpt pretrain EleutherAI/pythia-160m \
  --tokenizer_dir EleutherAI/pythia-160m \
  --data TextFiles \
  --data.train_data_path <span class="pl-s"><span class="pl-pds">"</span>custom_texts/<span class="pl-pds">"</span></span> \
  --train.max_tokens 10_000_000 \
  --out_dir out/custom-model

<span class="pl-c"><span class="pl-c">#</span> 3) Test the model</span>
litgpt chat out/custom-model/final</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="mkdir -p custom_texts
curl https://www.gutenberg.org/cache/epub/24440/pg24440.txt --output custom_texts/book1.txt
curl https://www.gutenberg.org/cache/epub/26393/pg26393.txt --output custom_texts/book2.txt

# 1) Download a tokenizer
litgpt download EleutherAI/pythia-160m \
  --tokenizer_only True

# 2) Pretrain the model
litgpt pretrain EleutherAI/pythia-160m \
  --tokenizer_dir EleutherAI/pythia-160m \
  --data TextFiles \
  --data.train_data_path &quot;custom_texts/&quot; \
  --train.max_tokens 10_000_000 \
  --out_dir out/custom-model

# 3) Test the model
litgpt chat out/custom-model/final" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<p dir="auto"><a href="/Lightning-AI/litgpt/blob/main/tutorials/pretrain.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读完整的预训练文档</font></font></a></p>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续进行法学硕士 (LLM) 预培训</font></font></h2><a id="user-content-continue-pretraining-an-llm" class="anchor" aria-label="永久链接：继续进行法学硕士 (LLM) 预培训" href="#continue-pretraining-an-llm"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div align="center" dir="auto">
<a href="https://lightning.ai/lightning-ai/studios/litgpt-continue-pretraining" rel="nofollow">
  <img src="https://camo.githubusercontent.com/3b9b6cc9b1d5da3a1442957e3d1a7464d5fe2af1749625eba68ecafaa8b72321/68747470733a2f2f706c2d626f6c74732d646f632d696d616765732e73332e75732d656173742d322e616d617a6f6e6177732e636f6d2f6170702d322f72756e2d6f6e2d73747564696f2e737667" height="36px" alt="在工作室运行" data-canonical-src="https://pl-bolts-doc-images.s3.us-east-2.amazonaws.com/app-2/run-on-studio.svg" style="max-width: 100%;">
</a>
</div>
<p dir="auto">&nbsp;</p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持续预训练是微调的另一种方式，通过对自定义数据进行训练来专门化已经预训练的模型：</font></font></p>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示代码：</font></font></summary>
<p dir="auto">&nbsp;</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>mkdir -p custom_texts
curl https://www.gutenberg.org/cache/epub/24440/pg24440.txt --output custom_texts/book1.txt
curl https://www.gutenberg.org/cache/epub/26393/pg26393.txt --output custom_texts/book2.txt

<span class="pl-c"><span class="pl-c">#</span> 1) Download a pretrained model</span>
litgpt download EleutherAI/pythia-160m

<span class="pl-c"><span class="pl-c">#</span> 2) Continue pretraining the model</span>
litgpt pretrain EleutherAI/pythia-160m \
  --tokenizer_dir EleutherAI/pythia-160m \
  --initial_checkpoint_dir EleutherAI/pythia-160m \
  --data TextFiles \
  --data.train_data_path <span class="pl-s"><span class="pl-pds">"</span>custom_texts/<span class="pl-pds">"</span></span> \
  --train.max_tokens 10_000_000 \
  --out_dir out/custom-model

<span class="pl-c"><span class="pl-c">#</span> 3) Test the model</span>
litgpt chat out/custom-model/final</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="mkdir -p custom_texts
curl https://www.gutenberg.org/cache/epub/24440/pg24440.txt --output custom_texts/book1.txt
curl https://www.gutenberg.org/cache/epub/26393/pg26393.txt --output custom_texts/book2.txt

# 1) Download a pretrained model
litgpt download EleutherAI/pythia-160m

# 2) Continue pretraining the model
litgpt pretrain EleutherAI/pythia-160m \
  --tokenizer_dir EleutherAI/pythia-160m \
  --initial_checkpoint_dir EleutherAI/pythia-160m \
  --data TextFiles \
  --data.train_data_path &quot;custom_texts/&quot; \
  --train.max_tokens 10_000_000 \
  --out_dir out/custom-model

# 3) Test the model
litgpt chat out/custom-model/final" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<p dir="auto"><a href="/Lightning-AI/litgpt/blob/main/tutorials/pretrain.md#continued-pretraining-on-custom-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读完整的预训练文档</font></font></a></p>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">评估法学硕士</font></font></h2><a id="user-content-evaluate-an-llm" class="anchor" aria-label="永久链接：评估法学硕士" href="#evaluate-an-llm"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">评估 LLM 以测试其在各种任务上的表现，看看它理解和生成文本的能力如何。简而言之，我们可以评估它在大学水平的化学、编码等方面的表现如何……（MMLU、Truthful QA 等……）</font></font></p>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示代码：</font></font></summary>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>litgpt evaluate microsoft/phi-2 --tasks <span class="pl-s"><span class="pl-pds">'</span>truthfulqa_mc2,mmlu<span class="pl-pds">'</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="litgpt evaluate microsoft/phi-2 --tasks 'truthfulqa_mc2,mmlu'" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<p dir="auto"><a href="/Lightning-AI/litgpt/blob/main/tutorials/evaluation.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读完整的评估文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部署 LLM</font></font></h2><a id="user-content-deploy-an-llm" class="anchor" aria-label="永久链接：部署 LLM" href="#deploy-an-llm"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div align="center" dir="auto">
<a href="https://lightning.ai/lightning-ai/studios/litgpt-serve" rel="nofollow">
  <img src="https://camo.githubusercontent.com/b88ef9bc3dd794487c8467f42cc7ed9b3285bef271332469e27c12a2491332f0/68747470733a2f2f706c2d626f6c74732d646f632d696d616765732e73332e75732d656173742d322e616d617a6f6e6177732e636f6d2f6170702d322f6465706c6f792d6f6e2d73747564696f732e737667" height="36px" alt="在 Studio 上部署" data-canonical-src="https://pl-bolts-doc-images.s3.us-east-2.amazonaws.com/app-2/deploy-on-studios.svg" style="max-width: 100%;">
</a>
</div>
<p dir="auto">&nbsp;</p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部署经过预训练或微调的 LLM 以将其用于实际应用程序。部署后，会自动设置一个可供网站或应用程序访问的 Web 服务器。</font></font></p>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示代码：</font></font></summary>
<p dir="auto">&nbsp;</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> locate the checkpoint to your finetuned or pretrained model and call the `serve` command:</span>
litgpt serve microsoft/phi-2

<span class="pl-c"><span class="pl-c">#</span> Alternative: if you haven't finetuned, download any checkpoint to deploy it:</span>
litgpt download microsoft/phi-2
litgpt serve microsoft/phi-2</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# locate the checkpoint to your finetuned or pretrained model and call the `serve` command:
litgpt serve microsoft/phi-2

# Alternative: if you haven't finetuned, download any checkpoint to deploy it:
litgpt download microsoft/phi-2
litgpt serve microsoft/phi-2" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto">Test the server in a separate terminal and integrate the model API into your AI product:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"># 3) Use the server (in a separate Python session)</span>
<span class="pl-k">import</span> <span class="pl-s1">requests</span>, <span class="pl-s1">json</span>
<span class="pl-s1">response</span> <span class="pl-c1">=</span> <span class="pl-s1">requests</span>.<span class="pl-en">post</span>(
    <span class="pl-s">"http://127.0.0.1:8000/predict"</span>,
    <span class="pl-s1">json</span><span class="pl-c1">=</span>{<span class="pl-s">"prompt"</span>: <span class="pl-s">"Fix typos in the following sentence: Exampel input"</span>}
)
<span class="pl-en">print</span>(<span class="pl-s1">response</span>.<span class="pl-en">json</span>()[<span class="pl-s">"output"</span>])</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# 3) Use the server (in a separate Python session)
import requests, json
response = requests.post(
    &quot;http://127.0.0.1:8000/predict&quot;,
    json={&quot;prompt&quot;: &quot;Fix typos in the following sentence: Exampel input&quot;}
)
print(response.json()[&quot;output&quot;])" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<p dir="auto"><a href="/Lightning-AI/litgpt/blob/main/tutorials/deploy.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读完整的部署文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试法学硕士 (LLM)</font></font></h2><a id="user-content-test-an-llm" class="anchor" aria-label="永久链接：测试法学硕士学位" href="#test-an-llm"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div align="center" dir="auto">
<a href="https://lightning.ai/lightning-ai/studios/litgpt-chat" rel="nofollow">
  <img src="https://camo.githubusercontent.com/3b9b6cc9b1d5da3a1442957e3d1a7464d5fe2af1749625eba68ecafaa8b72321/68747470733a2f2f706c2d626f6c74732d646f632d696d616765732e73332e75732d656173742d322e616d617a6f6e6177732e636f6d2f6170702d322f72756e2d6f6e2d73747564696f2e737667" height="36px" alt="在工作室运行" data-canonical-src="https://pl-bolts-doc-images.s3.us-east-2.amazonaws.com/app-2/run-on-studio.svg" style="max-width: 100%;">
</a>
</div>
<p dir="auto">&nbsp;</p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过交互式聊天测试模型的运行情况。使用命令</font></font><code>chat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行聊天、提取嵌入等...</font></font></p>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示代码：</font></font></summary>
<p dir="auto">&nbsp;
Here's an example showing how to use the Phi-2 LLM.</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> 1) List all available models in litgpt</span>
litgpt download list

<span class="pl-c"><span class="pl-c">#</span> 2) Download a pretrained model</span>
litgpt download microsoft/phi-2

<span class="pl-c"><span class="pl-c">#</span> 3) Chat with the model</span>
litgpt chat microsoft/phi-2

<span class="pl-k">&gt;&gt;</span> Prompt: What <span class="pl-k">do</span> Llamas eat<span class="pl-k">?</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# 1) List all available models in litgpt
litgpt download list

# 2) Download a pretrained model
litgpt download microsoft/phi-2

# 3) Chat with the model
litgpt chat microsoft/phi-2

>> Prompt: What do Llamas eat?" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto">The download of certain models requires an additional access token. You can read more about this in the <a href="/Lightning-AI/litgpt/blob/main/tutorials/download_model_weights.md#specific-models-and-access-tokens">download</a> documentation.</p>
</details>
<p dir="auto"><a href="/Lightning-AI/litgpt/blob/main/tutorials/inference.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读完整的聊天文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">先进的功能</font></font></h1><a id="user-content-state-of-the-art-features" class="anchor" aria-label="永久链接：最先进的功能" href="#state-of-the-art-features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ 最先进的优化：Flash Attention v2、通过完全分片数据并行实现多 GPU 支持、</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/oom.md#do-sharding-across-multiple-gpus"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可选的 CPU 卸载</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及</font></font><a href="/Lightning-AI/litgpt/blob/main/extensions/xla"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TPU 和 XLA 支持</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ &nbsp;</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/pretrain.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预训练</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/finetune.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微调</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/inference.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部署</font></font></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ 使用低精度设置降低计算要求：FP16、BF16 和 FP16/FP32 混合。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/quantize.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ 通过量化</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">降低内存要求</font><font style="vertical-align: inherit;">：4 位浮点数、8 位整数和双量化。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ &nbsp;</font></font><a href="/Lightning-AI/litgpt/blob/main/config_hub"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置文件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可实现出色的开箱即用性能。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ 参数高效微调：</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/finetune_lora.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LoRA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/finetune_lora.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QLoRA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/finetune_adapter.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adapter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、以及</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/finetune_adapter.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adapter v2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ &nbsp;</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/convert_lit_models.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导出</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为其他流行的模型重量格式。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ 许多流行的数据集用于</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/pretrain.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预训练</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/prepare_dataset.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微调</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/prepare_dataset.md#preparing-custom-datasets-for-instruction-finetuning"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持自定义数据集</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ 可读且易于修改的代码，以实验最新的研究想法。</font></font></p>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">训练秘诀</font></font></h1><a id="user-content-training-recipes" class="anchor" aria-label="永久链接：训练秘诀" href="#training-recipes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LitGPT 附带经过验证的配方（YAML 配置），用于在不同条件下训练模型。我们根据发现的在不同训练条件下表现最佳的参数生成了这些配方。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"></font><a href="/Lightning-AI/litgpt/blob/main/config_hub"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">浏览所有训练秘诀</font><font style="vertical-align: inherit;">。</font></font></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例子</font></font></h3><a id="user-content-example" class="anchor" aria-label="永久链接：示例" href="#example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>litgpt finetune \
  --config https://raw.githubusercontent.com/Lightning-AI/litgpt/main/config_hub/finetune/llama-2-7b/lora.yaml</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="litgpt finetune \
  --config https://raw.githubusercontent.com/Lightning-AI/litgpt/main/config_hub/finetune/llama-2-7b/lora.yaml" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ 使用配置来定制训练</font></font></summary>
<p dir="auto">Configs let you customize training for all granular parameters like:</p>
<div class="highlight highlight-source-yaml notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> The path to the base model's checkpoint directory to load for finetuning. (type: &lt;class 'Path'&gt;, default: checkpoints/stabilityai/stablelm-base-alpha-3b)</span>
<span class="pl-ent">checkpoint_dir</span>: <span class="pl-s">checkpoints/meta-llama/Llama-2-7b-hf</span>

<span class="pl-c"><span class="pl-c">#</span> Directory in which to save checkpoints and logs. (type: &lt;class 'Path'&gt;, default: out/lora)</span>
<span class="pl-ent">out_dir</span>: <span class="pl-s">out/finetune/qlora-llama2-7b</span>

<span class="pl-c"><span class="pl-c">#</span> The precision to use for finetuning. Possible choices: "bf16-true", "bf16-mixed", "32-true". (type: Optional[str], default: null)</span>
<span class="pl-ent">precision</span>: <span class="pl-s">bf16-true</span>

...</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# The path to the base model's checkpoint directory to load for finetuning. (type: <class 'Path'>, default: checkpoints/stabilityai/stablelm-base-alpha-3b)
checkpoint_dir: checkpoints/meta-llama/Llama-2-7b-hf

# Directory in which to save checkpoints and logs. (type: <class 'Path'>, default: out/lora)
out_dir: out/finetune/qlora-llama2-7b

# The precision to use for finetuning. Possible choices: &quot;bf16-true&quot;, &quot;bf16-mixed&quot;, &quot;32-true&quot;. (type: Optional[str], default: null)
precision: bf16-true

..." tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ 示例：LoRA 微调配置</font></font></summary>
<p dir="auto">&nbsp;</p>
<div class="highlight highlight-source-yaml notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> The path to the base model's checkpoint directory to load for finetuning. (type: &lt;class 'Path'&gt;, default: checkpoints/stabilityai/stablelm-base-alpha-3b)</span>
<span class="pl-ent">checkpoint_dir</span>: <span class="pl-s">checkpoints/meta-llama/Llama-2-7b-hf</span>

<span class="pl-c"><span class="pl-c">#</span> Directory in which to save checkpoints and logs. (type: &lt;class 'Path'&gt;, default: out/lora)</span>
<span class="pl-ent">out_dir</span>: <span class="pl-s">out/finetune/qlora-llama2-7b</span>

<span class="pl-c"><span class="pl-c">#</span> The precision to use for finetuning. Possible choices: "bf16-true", "bf16-mixed", "32-true". (type: Optional[str], default: null)</span>
<span class="pl-ent">precision</span>: <span class="pl-s">bf16-true</span>

<span class="pl-c"><span class="pl-c">#</span> If set, quantize the model with this algorithm. See ``tutorials/quantize.md`` for more information. (type: Optional[Literal['nf4', 'nf4-dq', 'fp4', 'fp4-dq', 'int8-training']], default: null)</span>
<span class="pl-ent">quantize</span>: <span class="pl-s">bnb.nf4</span>

<span class="pl-c"><span class="pl-c">#</span> How many devices/GPUs to use. (type: Union[int, str], default: 1)</span>
<span class="pl-ent">devices</span>: <span class="pl-c1">1</span>

<span class="pl-c"><span class="pl-c">#</span> The LoRA rank. (type: int, default: 8)</span>
<span class="pl-ent">lora_r</span>: <span class="pl-c1">32</span>

<span class="pl-c"><span class="pl-c">#</span> The LoRA alpha. (type: int, default: 16)</span>
<span class="pl-ent">lora_alpha</span>: <span class="pl-c1">16</span>

<span class="pl-c"><span class="pl-c">#</span> The LoRA dropout value. (type: float, default: 0.05)</span>
<span class="pl-ent">lora_dropout</span>: <span class="pl-c1">0.05</span>

<span class="pl-c"><span class="pl-c">#</span> Whether to apply LoRA to the query weights in attention. (type: bool, default: True)</span>
<span class="pl-ent">lora_query</span>: <span class="pl-c1">true</span>

<span class="pl-c"><span class="pl-c">#</span> Whether to apply LoRA to the key weights in attention. (type: bool, default: False)</span>
<span class="pl-ent">lora_key</span>: <span class="pl-c1">false</span>

<span class="pl-c"><span class="pl-c">#</span> Whether to apply LoRA to the value weights in attention. (type: bool, default: True)</span>
<span class="pl-ent">lora_value</span>: <span class="pl-c1">true</span>

<span class="pl-c"><span class="pl-c">#</span> Whether to apply LoRA to the output projection in the attention block. (type: bool, default: False)</span>
<span class="pl-ent">lora_projection</span>: <span class="pl-c1">false</span>

<span class="pl-c"><span class="pl-c">#</span> Whether to apply LoRA to the weights of the MLP in the attention block. (type: bool, default: False)</span>
<span class="pl-ent">lora_mlp</span>: <span class="pl-c1">false</span>

<span class="pl-c"><span class="pl-c">#</span> Whether to apply LoRA to output head in GPT. (type: bool, default: False)</span>
<span class="pl-ent">lora_head</span>: <span class="pl-c1">false</span>

<span class="pl-c"><span class="pl-c">#</span> Data-related arguments. If not provided, the default is ``litgpt.data.Alpaca``.</span>
<span class="pl-ent">data</span>:
  <span class="pl-ent">class_path</span>: <span class="pl-s">litgpt.data.Alpaca2k</span>
  <span class="pl-ent">init_args</span>:
    <span class="pl-ent">mask_prompt</span>: <span class="pl-c1">false</span>
    <span class="pl-ent">val_split_fraction</span>: <span class="pl-c1">0.05</span>
    <span class="pl-ent">prompt_style</span>: <span class="pl-s">alpaca</span>
    <span class="pl-ent">ignore_index</span>: <span class="pl-c1">-100</span>
    <span class="pl-ent">seed</span>: <span class="pl-c1">42</span>
    <span class="pl-ent">num_workers</span>: <span class="pl-c1">4</span>
    <span class="pl-ent">download_dir</span>: <span class="pl-s">data/alpaca2k</span>

<span class="pl-c"><span class="pl-c">#</span> Training-related arguments. See ``litgpt.args.TrainArgs`` for details</span>
<span class="pl-ent">train</span>:

  <span class="pl-c"><span class="pl-c">#</span> Number of optimizer steps between saving checkpoints (type: Optional[int], default: 1000)</span>
  <span class="pl-ent">save_interval</span>: <span class="pl-c1">200</span>

  <span class="pl-c"><span class="pl-c">#</span> Number of iterations between logging calls (type: int, default: 1)</span>
  <span class="pl-ent">log_interval</span>: <span class="pl-c1">1</span>

  <span class="pl-c"><span class="pl-c">#</span> Number of samples between optimizer steps across data-parallel ranks (type: int, default: 128)</span>
  <span class="pl-ent">global_batch_size</span>: <span class="pl-c1">8</span>

  <span class="pl-c"><span class="pl-c">#</span> Number of samples per data-parallel rank (type: int, default: 4)</span>
  <span class="pl-ent">micro_batch_size</span>: <span class="pl-c1">2</span>

  <span class="pl-c"><span class="pl-c">#</span> Number of iterations with learning rate warmup active (type: int, default: 100)</span>
  <span class="pl-ent">lr_warmup_steps</span>: <span class="pl-c1">10</span>

  <span class="pl-c"><span class="pl-c">#</span> Number of epochs to train on (type: Optional[int], default: 5)</span>
  <span class="pl-ent">epochs</span>: <span class="pl-c1">4</span>

  <span class="pl-c"><span class="pl-c">#</span> Total number of tokens to train on (type: Optional[int], default: null)</span>
  <span class="pl-ent">max_tokens</span>:

  <span class="pl-c"><span class="pl-c">#</span> Limits the number of optimizer steps to run (type: Optional[int], default: null)</span>
  <span class="pl-ent">max_steps</span>:

  <span class="pl-c"><span class="pl-c">#</span> Limits the length of samples (type: Optional[int], default: null)</span>
  <span class="pl-ent">max_seq_length</span>: <span class="pl-c1">512</span>

  <span class="pl-c"><span class="pl-c">#</span> Whether to tie the embedding weights with the language modeling head weights (type: Optional[bool], default: null)</span>
  <span class="pl-ent">tie_embeddings</span>:

  <span class="pl-c"><span class="pl-c">#</span>   (type: float, default: 0.0003)</span>
  <span class="pl-ent">learning_rate</span>: <span class="pl-c1">0.0002</span>

  <span class="pl-c"><span class="pl-c">#</span>   (type: float, default: 0.02)</span>
  <span class="pl-ent">weight_decay</span>: <span class="pl-c1">0.0</span>

  <span class="pl-c"><span class="pl-c">#</span>   (type: float, default: 0.9)</span>
  <span class="pl-ent">beta1</span>: <span class="pl-c1">0.9</span>

  <span class="pl-c"><span class="pl-c">#</span>   (type: float, default: 0.95)</span>
  <span class="pl-ent">beta2</span>: <span class="pl-c1">0.95</span>

  <span class="pl-c"><span class="pl-c">#</span>   (type: Optional[float], default: null)</span>
  <span class="pl-ent">max_norm</span>:

  <span class="pl-c"><span class="pl-c">#</span>   (type: float, default: 6e-05)</span>
  <span class="pl-ent">min_lr</span>: <span class="pl-c1">6.0e-05</span>

<span class="pl-c"><span class="pl-c">#</span> Evaluation-related arguments. See ``litgpt.args.EvalArgs`` for details</span>
<span class="pl-ent">eval</span>:

  <span class="pl-c"><span class="pl-c">#</span> Number of optimizer steps between evaluation calls (type: int, default: 100)</span>
  <span class="pl-ent">interval</span>: <span class="pl-c1">100</span>

  <span class="pl-c"><span class="pl-c">#</span> Number of tokens to generate (type: Optional[int], default: 100)</span>
  <span class="pl-ent">max_new_tokens</span>: <span class="pl-c1">100</span>

  <span class="pl-c"><span class="pl-c">#</span> Number of iterations (type: int, default: 100)</span>
  <span class="pl-ent">max_iters</span>: <span class="pl-c1">100</span>

<span class="pl-c"><span class="pl-c">#</span> The name of the logger to send metrics to. (type: Literal['wandb', 'tensorboard', 'csv'], default: csv)</span>
<span class="pl-ent">logger_name</span>: <span class="pl-s">csv</span>

<span class="pl-c"><span class="pl-c">#</span> The random seed to use for reproducibility. (type: int, default: 1337)</span>
<span class="pl-ent">seed</span>: <span class="pl-c1">1337</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# The path to the base model's checkpoint directory to load for finetuning. (type: <class 'Path'>, default: checkpoints/stabilityai/stablelm-base-alpha-3b)
checkpoint_dir: checkpoints/meta-llama/Llama-2-7b-hf

# Directory in which to save checkpoints and logs. (type: <class 'Path'>, default: out/lora)
out_dir: out/finetune/qlora-llama2-7b

# The precision to use for finetuning. Possible choices: &quot;bf16-true&quot;, &quot;bf16-mixed&quot;, &quot;32-true&quot;. (type: Optional[str], default: null)
precision: bf16-true

# If set, quantize the model with this algorithm. See ``tutorials/quantize.md`` for more information. (type: Optional[Literal['nf4', 'nf4-dq', 'fp4', 'fp4-dq', 'int8-training']], default: null)
quantize: bnb.nf4

# How many devices/GPUs to use. (type: Union[int, str], default: 1)
devices: 1

# The LoRA rank. (type: int, default: 8)
lora_r: 32

# The LoRA alpha. (type: int, default: 16)
lora_alpha: 16

# The LoRA dropout value. (type: float, default: 0.05)
lora_dropout: 0.05

# Whether to apply LoRA to the query weights in attention. (type: bool, default: True)
lora_query: true

# Whether to apply LoRA to the key weights in attention. (type: bool, default: False)
lora_key: false

# Whether to apply LoRA to the value weights in attention. (type: bool, default: True)
lora_value: true

# Whether to apply LoRA to the output projection in the attention block. (type: bool, default: False)
lora_projection: false

# Whether to apply LoRA to the weights of the MLP in the attention block. (type: bool, default: False)
lora_mlp: false

# Whether to apply LoRA to output head in GPT. (type: bool, default: False)
lora_head: false

# Data-related arguments. If not provided, the default is ``litgpt.data.Alpaca``.
data:
  class_path: litgpt.data.Alpaca2k
  init_args:
    mask_prompt: false
    val_split_fraction: 0.05
    prompt_style: alpaca
    ignore_index: -100
    seed: 42
    num_workers: 4
    download_dir: data/alpaca2k

# Training-related arguments. See ``litgpt.args.TrainArgs`` for details
train:

  # Number of optimizer steps between saving checkpoints (type: Optional[int], default: 1000)
  save_interval: 200

  # Number of iterations between logging calls (type: int, default: 1)
  log_interval: 1

  # Number of samples between optimizer steps across data-parallel ranks (type: int, default: 128)
  global_batch_size: 8

  # Number of samples per data-parallel rank (type: int, default: 4)
  micro_batch_size: 2

  # Number of iterations with learning rate warmup active (type: int, default: 100)
  lr_warmup_steps: 10

  # Number of epochs to train on (type: Optional[int], default: 5)
  epochs: 4

  # Total number of tokens to train on (type: Optional[int], default: null)
  max_tokens:

  # Limits the number of optimizer steps to run (type: Optional[int], default: null)
  max_steps:

  # Limits the length of samples (type: Optional[int], default: null)
  max_seq_length: 512

  # Whether to tie the embedding weights with the language modeling head weights (type: Optional[bool], default: null)
  tie_embeddings:

  #   (type: float, default: 0.0003)
  learning_rate: 0.0002

  #   (type: float, default: 0.02)
  weight_decay: 0.0

  #   (type: float, default: 0.9)
  beta1: 0.9

  #   (type: float, default: 0.95)
  beta2: 0.95

  #   (type: Optional[float], default: null)
  max_norm:

  #   (type: float, default: 6e-05)
  min_lr: 6.0e-05

# Evaluation-related arguments. See ``litgpt.args.EvalArgs`` for details
eval:

  # Number of optimizer steps between evaluation calls (type: int, default: 100)
  interval: 100

  # Number of tokens to generate (type: Optional[int], default: 100)
  max_new_tokens: 100

  # Number of iterations (type: int, default: 100)
  max_iters: 100

# The name of the logger to send metrics to. (type: Literal['wandb', 'tensorboard', 'csv'], default: csv)
logger_name: csv

# The random seed to use for reproducibility. (type: int, default: 1337)
seed: 1337" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">✅ 覆盖 CLI 中的任何参数：</font></font></summary>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>litgpt finetune \
  --config https://raw.githubusercontent.com/Lightning-AI/litgpt/main/config_hub/finetune/llama-2-7b/lora.yaml \
  --lora_r 4</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="litgpt finetune \
  --config https://raw.githubusercontent.com/Lightning-AI/litgpt/main/config_hub/finetune/llama-2-7b/lora.yaml \
  --lora_r 4" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目亮点</font></font></h1><a id="user-content-project-highlights" class="anchor" aria-label="永久链接：项目亮点" href="#project-highlights"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LitGPT 为许多出色的 AI 项目、计划、挑战以及企业提供支持。请提交拉取请求以考虑使用某项功能。</font></font></p>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">📊 SAMBA：用于高效无限上下文语言建模的简单混合状态空间模型</font></font></summary>
<p dir="auto">The <a href="https://github.com/microsoft/Samba">Samba</a> project by researchers at Microsoft is built on top of the LitGPT code base and combines state space models with sliding window attention, which outperforms pure state space models.</p>
</details>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🏆 NeurIPS 2023 大型语言模型效率挑战赛：1 LLM + 1 GPU + 1 天</font></font></summary>
<p dir="auto">The LitGPT repository was the official starter kit for the <a href="https://llm-efficiency-challenge.github.io" rel="nofollow">NeurIPS 2023 LLM Efficiency Challenge</a>, which is a competition focused on finetuning an existing non-instruction tuned LLM for 24 hours on a single GPU.</p>
</details>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🦙 TinyLlama：开源小型语言模型</font></font></summary>
<p dir="auto">LitGPT powered the <a href="https://github.com/jzhang38/TinyLlama">TinyLlama project</a> and <a href="https://arxiv.org/abs/2401.02385" rel="nofollow">TinyLlama: An Open-Source Small Language Model</a> research paper.</p>
</details>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🍪 MicroLlama：MicroLlama-300M</font></font></summary>
<p dir="auto"><a href="https://github.com/keeeeenw/MicroLlama">MicroLlama</a> is a 300M Llama model pretrained on 50B tokens powered by TinyLlama and LitGPT.</p>
</details>
<details>
  <summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔬 使用较少的 token 对小型基础 LM 进行预训练</font></font></summary>
<p dir="auto">The research paper <a href="https://arxiv.org/abs/2404.08634" rel="nofollow">"Pre-training Small Base LMs with Fewer Tokens"</a>, which utilizes LitGPT, develops smaller base language models by inheriting a few transformer blocks from larger models and training on a tiny fraction of the data used by the larger models. It demonstrates that these smaller models can perform comparably to larger models despite using significantly less training data and resources.</p>
</details>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">社区</font></font></h1><a id="user-content-community" class="anchor" aria-label="固定链接：社区" href="#community"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们欢迎所有个人贡献者，无论他们的经验水平或硬件水平如何。您的贡献非常宝贵，我们很高兴看到您在这种协作和支持的环境中取得的成就。</font></font></p>
<ul dir="auto">
<li><a href="https://github.com/Lightning-AI/litgpt/issues"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求功能</font></font></a></li>
<li><a href="https://lightning.ai/pages/community/tutorial/how-to-contribute-to-litgpt/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提交您的第一笔贡献</font></font></a></li>
<li><a href="https://discord.gg/VptPCZkGNa" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加入我们的 Discord</font></font></a></li>
</ul>
<p dir="auto">&nbsp;</p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">教程</font></font></h1><a id="user-content-tutorials" class="anchor" aria-label="永久链接：教程" href="#tutorials"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🚀</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/0_to_litgpt.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始使用</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
⚡️  </font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/finetune.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微调，包括 LoRA、QLoRA 和适配器</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
🤖</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/pretrain.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预训练</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
💬</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/evaluation.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型评估</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
📘</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/prepare_dataset.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持和自定义数据集</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
🧹</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/quantize.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">量化</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
🤯</font></font><a href="/Lightning-AI/litgpt/blob/main/tutorials/oom.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理内存不足 (OOM) 错误的技巧</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
🧑🏽&zwj;💻</font></font><a href="/Lightning-AI/litgpt/blob/main/extensions/xla"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用云 TPU</font></font></a></p>
<p dir="auto">&nbsp;</p>
<hr>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">致谢</font></font></h3><a id="user-content-acknowledgements" class="anchor" aria-label="永久链接：致谢" href="#acknowledgements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该实现扩展了</font></font><a href="https://github.com/lightning-AI/lit-llama"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lit-LLaMA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://github.com/karpathy/nanoGPT"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nanoGPT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并由</font><strong><a href="https://lightning.ai/docs/fabric/stable/" rel="nofollow"><font style="vertical-align: inherit;">Lightning Fabric</font></a></strong><strong><font style="vertical-align: inherit;"> ⚡</font></strong></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供支持</font></font><a href="https://lightning.ai/docs/fabric/stable/" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<ul dir="auto">
<li><a href="https://github.com/karpathy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@karpathy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><a href="https://github.com/karpathy/nanoGPT"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nanoGPT</font></font></a></li>
<li><a href="https://github.com/EleutherAI"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@EleutherAI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><a href="https://github.com/EleutherAI/gpt-neox"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPT-NeoX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://github.com/EleutherAI/lm-evaluation-harness"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">评估工具提供支持</font></font></a></li>
<li><a href="https://github.com/TimDettmers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@TimDettmers</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><a href="https://github.com/TimDettmers/bitsandbytes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bitsandbytes</font></font></a></li>
<li><a href="https://github.com/microsoft"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Microsoft</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><a href="https://github.com/microsoft/LoRA"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LoRA</font></font></a></li>
<li><a href="https://github.com/tridao"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@tridao</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><a href="https://github.com/Dao-AILab/flash-attention"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flash Attention 2</font></font></a></li>
</ul>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执照</font></font></h3><a id="user-content-license" class="anchor" aria-label="永久链接：许可证" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LitGPT 是在</font></font><a href="https://github.com/Lightning-AI/litgpt/blob/main/LICENSE"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache 2.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">许可下发布的。</font></font></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用</font></font></h3><a id="user-content-citation" class="anchor" aria-label="永久链接：引用" href="#citation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您在研究中使用 LitGPT，请引用以下作品：</font></font></p>
<div class="highlight highlight-text-bibtex notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">@misc</span>{<span class="pl-en">litgpt-2023</span>,
  <span class="pl-s">author</span>       = <span class="pl-s"><span class="pl-pds">{</span>Lightning AI<span class="pl-pds">}</span></span>,
  <span class="pl-s">title</span>        = <span class="pl-s"><span class="pl-pds">{</span>LitGPT<span class="pl-pds">}</span></span>,
  <span class="pl-s">howpublished</span> = <span class="pl-s"><span class="pl-pds">{</span>\url{https://github.com/Lightning-AI/litgpt}<span class="pl-pds">}</span></span>,
  <span class="pl-s">year</span>         = <span class="pl-s"><span class="pl-pds">{</span>2023<span class="pl-pds">}</span></span>,
}</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="@misc{litgpt-2023,
  author       = {Lightning AI},
  title        = {LitGPT},
  howpublished = {\url{https://github.com/Lightning-AI/litgpt}},
  year         = {2023},
}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto">&nbsp;</p>
</article></div>
